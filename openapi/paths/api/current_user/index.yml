get:
  operationId: getCurrentUser
  tags:
    - auth
  summary: ログインユーザー情報取得
  description: |
    ログインユーザーの情報を取得します。
  parameters:
    - name: companyId
      required: false
      in: query
      schema:
        type: integer
      example: 1
  responses:
    '200':
      description: ログインユーザー情報
      content:
        application/json:
          schema:
            type: object
            required:
              - name
              - id
              - icon
              - languages
              - email
              - role
              - customizeRole
              - checksurveyUrl
              - isViewSurvey
              - isViewAdmin
              - isCurrentUserCanEditRole
              - hasLMI
              - hasOperator
              - welcomeModalDisplayed
            additionalProperties: false
            properties:
              name:
                type: string
                description: ユーザー名
              id:
                type: integer
                description: ユーザーID
              icon:
                type: string
                description: プロフィール画像URL
              languages:
                type: object
                description: 言語
                required:
                  - "1"
                  - "2"
                  - "3"
                additionalProperties: false
                properties:
                  "1":
                    type: string
                  "2":
                    type: string
                    nullable: true
                  "3":
                    type: string
                    nullable: true
              email:
                type: string
                description: メールアドレス
              role:
                type: integer
                description: 権限ID
              customizeRole:
                type: object
                description: カスタマイズ権限
                required:
                  - users
                  - changeUserRole
                  - magellanViewableUsers
                  - magellanAttributeSettings
                  - surveyChains
                  - companyTreeSettings
                  - magellanCheckSurveySettings
                  - companySettings
                  - errorMails
                  - userLimitSettings
                  - surveyResult
                  - magellanSummaryResultsSync
                  - surveyRule
                  - surveySetting
                  - surveyAnswerStatus
                  - surveyResultSetting
                  - lastAttribute
                  - actionPlanner
                  - crossAttributes
                  - externalNotificationServices
                  - notificationSettings
                  - downloadAnsweredCustomQuestion
                  - securitySettings
                  - improvementStatus
                  - downloadEsAnsweredCustomQuestion
                additionalProperties: false
                properties:
                  users:
                    type: boolean
                  changeUserRole:
                    type: boolean
                  magellanViewableUsers:
                    type: boolean
                  magellanAttributeSettings:
                    type: boolean
                  surveyChains:
                    type: boolean
                  companyTreeSettings:
                    type: boolean
                  magellanCheckSurveySettings:
                    type: boolean
                  companySettings:
                    type: boolean
                  errorMails:
                    type: boolean
                  userLimitSettings:
                    type: boolean
                  surveyResult:
                    type: boolean
                  magellanSummaryResultsSync:
                    type: boolean
                  surveyRule:
                    type: boolean
                  surveySetting:
                    type: boolean
                  surveyAnswerStatus:
                    type: boolean
                  surveyResultSetting:
                    type: boolean
                  lastAttribute:
                    type: boolean
                  actionPlanner:
                    type: boolean
                  crossAttributes:
                    type: boolean
                  externalNotificationServices:
                    type: boolean
                  notificationSettings:
                    type: boolean
                  downloadAnsweredCustomQuestion:
                    type: boolean
                  securitySettings:
                    type: boolean
                  improvementStatus:
                    type: boolean
                  downloadEsAnsweredCustomQuestion:
                    type: boolean
              checksurveyUrl:
                type: string
                description: フォーカスサーベイのURL
                nullable: true
              isViewSurvey:
                type: boolean
                description: 結果画面が閲覧可能か
              isViewAdmin:
                type: boolean
                description: 管理画面が閲覧可能か
              isCurrentUserCanEditRole:
                type: boolean
                description: 権限が変更可能か
              hasLMI:
                type: boolean
                description: LM権限を保持しているか
              hasOperator:
                type: boolean
                description: LM権限/マネジメント責任者権限/オペレーション担当者権限のいずれかか
              welcomeModalDisplayed:
                type: boolean
                description: ウェルカムモーダルを表示したことがあるか
              services:
                type: array
                items:
                  type: object
                  required:
                    - service_id
                    - name
                    - logo
                    - url
                  additionalProperties: false
                  properties:
                    service_id:
                      type: integer
                    name:
                      type: string
                    logo:
                      type: string
                    url:
                      type: string
          examples:
            acc_success: 
              summary: "accから正常にデータを取得できる場合"
              value:
                name: "持部太郎"
                id: 1
                icon:  "https://mcs-org-api.s3.ap-northeast-1.amazonaws.com/shared/icons/_100x100_..."
                languages: 
                  "1": "ja"
                  "2": "en"
                  "3": null
                email: "test@example.com"
                role: 1
                customizeRole: 
                  users: true
                  changeUserRole: true
                  magellanViewableUsers: true
                  magellanAttributeSettings: true
                  surveyChains: true
                  companyTreeSettings: true
                  magellanCheckSurveySettings: true
                  companySettings: true
                  errorMails: true
                  userLimitSettings: true
                  surveyResult: true
                  magellanSummaryResultsSync: true
                  surveyRule: true
                  surveySetting: true
                  surveyAnswerStatus: true
                  surveyResultSetting: true
                  lastAttribute: true
                  actionPlanner: true
                  crossAttributes: true
                  externalNotificationServices: true
                  notificationSettings: true
                  downloadAnsweredCustomQuestion: true
                  securitySettings: true
                  improvementStatus: true
                  downloadEsAnsweredCustomQuestion: true
                checksurveyUrl: "https://motivation-cloudapp.com/survey/"
                isViewSurvey: true
                isViewAdmin: true
                isCurrentUserCanEditRole: true
                hasLMI: true
                hasOperator: true
                welcomeModalDisplayed: true
                services:
                  - serviceId: 1
                    name: モチベーションクラウド
                    logo: 'https://assets.org.motivation-cloudapp.com/images/logo/logo.mc.png'
                    url: 'https://motivation-cloudapp.com'
                  - serviceId: 2
                    name: コミュニケーションクラウド
                    logo: 'https://assets.org.motivation-cloudapp.com/images/logo/logo.cc.png'
                    url: 'https://communication.motivation-cloudapp.com'
                  - serviceId: 3
                    name: ストレッチクラウド
                    logo: 'https://assets.org.motivation-cloudapp.com/images/logo/logo.sc.png'
                    url: 'https://stretch.motivation-cloudapp.com'
            acc_maintenance: 
              summary: "accがメンテナンス中"
              value:
                name: "持部太郎"
                id: 1
                icon:  "https://mcs-org-api.s3.ap-northeast-1.amazonaws.com/shared/icons/_100x100_..."
                languages: 
                  "1": "ja"
                  "2": "en"
                  "3": null
                email: "test@example.com"
                role: 1
                customizeRole: 
                  users: true
                  changeUserRole: true
                  magellanViewableUsers: true
                  magellanAttributeSettings: true
                  surveyChains: true
                  companyTreeSettings: true
                  magellanCheckSurveySettings: true
                  companySettings: true
                  errorMails: true
                  userLimitSettings: true
                  surveyResult: true
                  magellanSummaryResultsSync: true
                  surveyRule: true
                  surveySetting: true
                  surveyAnswerStatus: true
                  surveyResultSetting: true
                  lastAttribute: true
                  actionPlanner: true
                  crossAttributes: true
                  externalNotificationServices: true
                  notificationSettings: true
                  downloadAnsweredCustomQuestion: true
                  securitySettings: true
                  improvementStatus: true
                  downloadEsAnsweredCustomQuestion: true
                checksurveyUrl: "https://motivation-cloudapp.com/survey/"
                isViewSurvey: true
                isViewAdmin: true
                isCurrentUserCanEditRole: true
                hasLMI: true
                hasOperator: true
                welcomeModalDisplayed: true
                services:
                  code: "maintenance"
                  message: "システムメンテナンス中のため、サービスにアクセスできません。<br /><br />メンテナンス日時:<br />2022年5月17日 7:00-10:00<br /><br />ご迷惑をおかけして申し訳ございませんが、よろしくお願いいたします"
            acc_error: 
              summary: "accがエラー"
              value:
                name: "持部太郎"
                id: 1
                icon:  "https://mcs-org-api.s3.ap-northeast-1.amazonaws.com/shared/icons/_100x100_..."
                languages: 
                  "1": "ja"
                  "2": "en"
                  "3": null
                email: "test@example.com"
                role: 1
                customizeRole: 
                  users: true
                  changeUserRole: true
                  magellanViewableUsers: true
                  magellanAttributeSettings: true
                  surveyChains: true
                  companyTreeSettings: true
                  magellanCheckSurveySettings: true
                  companySettings: true
                  errorMails: true
                  userLimitSettings: true
                  surveyResult: true
                  magellanSummaryResultsSync: true
                  surveyRule: true
                  surveySetting: true
                  surveyAnswerStatus: true
                  surveyResultSetting: true
                  lastAttribute: true
                  actionPlanner: true
                  crossAttributes: true
                  externalNotificationServices: true
                  notificationSettings: true
                  downloadAnsweredCustomQuestion: true
                  securitySettings: true
                  improvementStatus: true
                  downloadEsAnsweredCustomQuestion: true
                checksurveyUrl: "https://motivation-cloudapp.com/survey/"
                isViewSurvey: true
                isViewAdmin: true
                isCurrentUserCanEditRole: true
                hasLMI: true
                hasOperator: true
                welcomeModalDisplayed: true
                services:
                  code: "private_api_retry_limit"
                  message: "システム障害のため、サービスにアクセスできません。</br>ご迷惑をおかけして申し訳ございませんが、よろしくお願いいたします。"
